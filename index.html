<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Question tr√®s importante üíò</title>
  <style>
    :root{
      --bg1:#ff4d6d;
      --bg2:#ffb3c1;
      --card:#ffffffee;
      --text:#1f1f1f;
      --shadow: 0 20px 60px rgba(0,0,0,.25);
      --radius: 24px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, #fff6 0%, transparent 60%),
        radial-gradient(900px 700px at 80% 90%, #fff5 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
      padding:24px;
    }

    .card{
      width:min(920px, 100%);
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:28px;
      position:relative;
      backdrop-filter: blur(8px);
    }

    .top{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      background:#fff;
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
      font-weight:700;
    }
    .badge span{font-size:18px}

    h1{
      margin:16px 0 6px;
      font-size: clamp(28px, 3.2vw, 44px);
      line-height:1.05;
      letter-spacing:-.02em;
    }
    .subtitle{
      margin:0 0 18px;
      opacity:.85;
      font-size: clamp(14px, 1.5vw, 18px);
    }

    .choices{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
      margin-top:16px;
    }
    @media (max-width:720px){
      .choices{grid-template-columns:1fr}
    }

    .choice{
      border:none;
      cursor:pointer;
      border-radius:22px;
      padding:16px;
      text-align:left;
      background:#fff;
      box-shadow: 0 14px 40px rgba(0,0,0,.12);
      transition: transform .12s ease, box-shadow .12s ease;
      display:flex;
      gap:14px;
      align-items:center;
      position:relative;
      overflow:hidden;
    }
    .choice:hover{ transform: translateY(-2px); box-shadow: 0 18px 50px rgba(0,0,0,.16); }
    .choice:active{ transform: translateY(1px); }

    .avatar{
      width:64px; height:64px;
      border-radius:18px;
      overflow:hidden;
      background:#fff;
      border: 1px solid #00000010;
      flex:0 0 auto;
    }
    .avatar img{
      width:100%;
      height:100%;
      object-fit:cover; /* recadre proprement */
      display:block;
    }
    .meta strong{ display:block; font-size:18px; }
    .meta small{ opacity:.75; }

    .hint{
      margin-top:14px;
      font-size:14px;
      opacity:.75;
    }

    /* Toast */
    .toast{
      position:fixed;
      top:18px;
      left:50%;
      transform:translateX(-50%);
      background:#111;
      color:#fff;
      padding:12px 14px;
      border-radius:999px;
      box-shadow: 0 16px 45px rgba(0,0,0,.35);
      opacity:0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
      display:flex;
      align-items:center;
      gap:10px;
      max-width: 92vw;
      z-index: 10000;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(6px);
    }

    /* Confetti simple */
    .confetti{
      position:fixed;
      inset:-20px;
      pointer-events:none;
      display:none;
      z-index: 9000;
    }
    .confetti.show{display:block}
    .piece{
      position:absolute;
      width:10px; height:16px;
      opacity:.9;
      transform: rotate(0deg);
      animation: fall 1.7s linear forwards;
    }
    @keyframes fall{
      to{
        transform: translateY(110vh) rotate(540deg);
        opacity:1;
      }
    }

    /* Screen success */
    .success{
      display:none;
      margin-top:18px;
      padding:18px;
      border-radius:18px;
      background: linear-gradient(135deg, #ffffff, #ffe6ef);
      border: 1px solid #00000010;
    }
    .success.show{display:block}
    .success h2{margin:0 0 6px}
    .success p{margin:0; opacity:.85}

    /* ===== MODAL GROS POPUP ===== */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      z-index:9999;
    }
    .modal.show{ display:block; }

    .modal__overlay{
      position:absolute;
      inset:0;
      background:rgba(0,0,0,.55);
      backdrop-filter: blur(2px);
    }

    .modal__content{
      position:relative;
      width:min(520px, 92vw);
      margin: 12vh auto 0;
      background:#fff;
      border-radius:22px;
      box-shadow: 0 24px 80px rgba(0,0,0,.35);
      padding:22px 20px;
      text-align:center;
      animation: pop .18s ease-out;
    }

    @keyframes pop{
      from{ transform: translateY(10px) scale(.98); opacity:.6; }
      to{ transform: translateY(0) scale(1); opacity:1; }
    }

    .modal__emoji{
      font-size:44px;
      margin-bottom:10px;
    }

    .modal__content h2{
      margin:0 0 8px;
      font-size:26px;
    }

    .modal__text{
      margin:0 0 16px;
      opacity:.85;
      line-height:1.35;
      font-size:16px;
    }

    .modal__actions{
      display:flex;
      justify-content:center;
    }

    .modal__btn{
      border:none;
      cursor:pointer;
      padding:12px 16px;
      border-radius:14px;
      font-weight:800;
      background:#111;
      color:#fff;
      box-shadow: 0 12px 30px rgba(0,0,0,.18);
      transition: transform .12s ease, box-shadow .12s ease;
    }

    .modal__btn:hover{
      transform: translateY(-1px);
      box-shadow: 0 16px 40px rgba(0,0,0,.22);
    }

    .modal__btn:active{
      transform: translateY(1px);
    }
  </style>
</head>

<body>
  <div class="toast" id="toast">üíò</div>
  <div class="confetti" id="confetti"></div>

  <!-- GROS POPUP "MAUVAISE REPONSE" -->
  <div class="modal" id="badModal" aria-hidden="true">
    <div class="modal__overlay" id="badOverlay"></div>

    <div class="modal__content" role="dialog" aria-modal="true" aria-labelledby="badTitle">
      <div class="modal__emoji">üò°üò§üôÖ‚Äç‚ôÄÔ∏è</div>
      <h2 id="badTitle">Mauvaise r√©ponse.</h2>
      <p class="modal__text">
        Choisi bien la prochaine fois. <br>
        (Mais je note que tu as choisi Oki en premier‚Ä¶üòà)
      </p>

      <div class="modal__actions">
        <button class="modal__btn" id="badClose">OK je r√©essaye ‚úÖ</button>
      </div>
    </div>
  </div>

  <main class="card">
    <div class="top">
      <div class="badge">
        <span>üíå</span> Question officielle de Saint-Valentin
      </div>
      <div class="badge" style="opacity:.85">
        <span>‚è≥</span> Temps de r√©flexion : 0 seconde
      </div>
    </div>

    <h1>Est-ce que tu veux √™tre mon Valentin ?</h1>
    <p class="subtitle">Attention : une seule bonne r√©ponse. (Oui, je suis s√©rieuse.)</p>

    <section class="choices">
      <button class="choice" id="btnMe" aria-label="Choisir M√©lina">
        <div class="avatar"><img src="melina.png" alt="M√©lina"></div>
        <div class="meta">
          <strong>M√©lina</strong>
          <small>Option premium : c√¢lins illimit√©s + bisous bonus</small>
        </div>
      </button>

      <button class="choice" id="btnDog" aria-label="Choisir le chien">
        <div class="avatar"><img src="oki.png" alt="Oki"></div>
        <div class="meta">
          <strong>Oki</strong>
          <small>Option trompeuse : croquettes + regard mignon (dangereux)</small>
        </div>
      </button>
    </section>

    <p class="hint">PS : si tu choisis Oki, il sera content‚Ä¶ mais moi je vais bouder.</p>

    <div class="success" id="success">
      <h2>OUIIIII ‚ù§Ô∏è</h2>
      <p>Ok c‚Äôest officiel : tu es mon Valentin üòò<br/>Pour les 90 ann√©es √† venir</p>
    </div>
  </main>

  <script>
    const toast = document.getElementById('toast');
    const confetti = document.getElementById('confetti');
    const success = document.getElementById('success');
    const btnMe = document.getElementById('btnMe');
    const btnDog = document.getElementById('btnDog');

    // Modal "bad answer"
    const badModal = document.getElementById('badModal');
    const badClose = document.getElementById('badClose');
    const badOverlay = document.getElementById('badOverlay');

    function showToast(message){
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 1200);
    }

    function launchConfetti(){
      confetti.innerHTML = '';
      confetti.classList.add('show');

      const count = 80;
      for(let i=0;i<count;i++){
        const p = document.createElement('div');
        p.className = 'piece';
        p.style.left = Math.random()*100 + 'vw';
        p.style.top = (-20 - Math.random()*60) + 'px';
        p.style.background = `hsl(${Math.random()*360}, 90%, 65%)`;
        p.style.animationDuration = (1.2 + Math.random()*1.2) + 's';
        p.style.transform = `rotate(${Math.random()*360}deg)`;
        confetti.appendChild(p);
      }

      setTimeout(() => confetti.classList.remove('show'), 1800);
    }

    function openBadModal(){
      badModal.classList.add('show');
      badModal.setAttribute('aria-hidden', 'false');
    }

    function closeBadModal(){
      badModal.classList.remove('show');
      badModal.setAttribute('aria-hidden', 'true');
    }

    badClose.addEventListener('click', closeBadModal);
    badOverlay.addEventListener('click', closeBadModal);
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape') closeBadModal();
    });

    btnDog.addEventListener('click', () => {
      // Petit ‚Äúshake‚Äù du bouton
      btnDog.animate(
        [{transform:'translateX(0)'},{transform:'translateX(-8px)'},{transform:'translateX(8px)'},{transform:'translateX(0)'}],
        {duration:260, iterations:1}
      );
      openBadModal();
    });

    btnMe.addEventListener('click', () => {
      success.classList.add('show');
      launchConfetti();
      showToast('üíò Bonne r√©ponse. √âvidemment.');
      btnDog.disabled = true;
      btnMe.disabled = true;
    });
  </script>
</body>
</html>

